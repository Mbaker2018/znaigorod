@init_range_slider = () ->
  range_slider_block = $('.range_slider')
  filters = $('.filters')

  range_slider_block.each ->
    $this = $(this)
    max = $this.attr('data-count')
    selected_value = $this.attr('data-selected').split(',').map (x) ->
      parseInt(x)

    $this.slider({
      range: true
      min: 0
      max: max
      values: selected_value
      slide: (event, ui) ->
        return (ui.values[1] - ui.values[0] > 0)

      change: (event, ui) ->
        filters.trigger('changed')

      create: (event, ui) ->
        $('.ui-slider-handle').filter(":even").addClass('left_handle')
        $('.ui-slider-handle').filter(":odd").addClass('right_handle')
    })
