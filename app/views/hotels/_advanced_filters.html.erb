<div class='advanced <%= params[:utf8].present? ? 'opened' : 'closed' %>'>
  <div class='introduction'>
    <%= t('meta.hotels.introduction').as_html %>
  </div>

  <%= form_tag hotels_path, :method => :get do %>
    <%= hidden_field_tag :order_by, @presenter.order_by %>

    <div class='filter used' id='amount'>
      <div class='filter_label wide'>Цена</div>
      <div class='filter_inputs'>
        <div class='input'>
          <%= label_tag :price_min, 'от' %>
          <%= text_field_tag :price_min, :class => 'min' %>
        </div>
        <div class='input'>
          <%= label_tag :price_max, 'до' %>
          <%= text_field_tag :price_max, :class => 'max' %>
        </div>
      </div>
      <div class='filter_input_label'>руб./час</div>

      <div class='filter_slider_wrapper amount'>
        <div class='filter_slider' data-range='true' data-min='1000<%#= @presenter.price.available.minimum %>' data-max='8000<%#= @presenter.price.available.maximum %>' data-step='50'></div>
      </div>
    </div>

    <div class='filter used' id='capacity_filter'>
      <div class='filter_label wide'>Вместительность</div>
      <div class='filter_inputs'>
        <div class="input">
          <%= label_tag :capacity, 'от' %>
          <%= text_field_tag :capacity, :class => 'max' %>
        </div>
      </div>
      <div class='filter_input_label'>человек</div>

      <div class='filter_slider_wrapper capacity'>
        <div class="filter_slider" data-range='max' data-min='1<%#= @presenter.capacity_hash.available.minimum %>' data-max='10<%#= @presenter.capacity_hash.available.maximum %>' data-step='1'></div>
      </div>
    </div>

    <div class='filter used' id='rooms_count_filter'>
      <div class='filter_label wide'>Количество комнат</div>
      <div class='filter_inputs'>
        <div class="input">
          <%= label_tag :rooms_count, 'от' %>
          <%= text_field_tag :rooms_count, :class => 'max' %>
        </div>
      </div>

      <div class='filter_slider_wrapper rooms_count'>
        <div class="filter_slider" data-range='max' data-min='1<%#= @presenter.capacity_hash.available.minimum %>' data-max='5<%#= @presenter.capacity_hash.available.maximum %>' data-step='1'></div>
      </div>
    </div>

    <div class='filter hide' id='hotel_features'>
      <%= link_to 'убрать', '#', :class => 'remove_filter_link' %>
      <div class='filter_label'>Особенности гостиницы</div>
      <div class='filter_checkboxes'>
        <% %w(Автостоянка Завтрак Обед).each do |feature_title, index| %>
          <div class='checkbox'>
            <%= check_box_tag 'features[]', feature_title, :id => "feature_#{index}" %>
            <%= label_tag "feature_#{index}", feature_title.gsub(/^(.)/){$1.mb_chars.capitalize} %>
          </div>
        <% end %>
      </div>
    </div>

    <div class='filter hide' id='room_features'>
      <%= link_to 'убрать', '#', :class => 'remove_filter_link' %>
      <div class='filter_label'>Особенности номера</div>
      <div class='filter_checkboxes'>
        <% %w(Телевизор Кондиционер Окно).each do |feature_title, index| %>
          <div class='checkbox'>
            <%= check_box_tag 'features[]', feature_title, :id => "feature_#{index}" %>
            <%= label_tag "feature_#{index}", feature_title.gsub(/^(.)/){$1.mb_chars.capitalize} %>
          </div>
        <% end %>
      </div>
    </div>

    <div class='criteria_list'>
      <div class='criteria_label'>Добавить критерии:</div>
      <ul>
        <li>
          <%= link_to 'Особенности гостиницы', '#', :class => 'hotel_features'  %>
        </li>
        <li>
          <%= link_to 'Особенности номера', '#', :class => 'room_features'  %>
        </li>
      </ul>
    </div>

    <div class='submit_action'>
      <div class='submit_wrapper'>
        <input type='submit' value='Применить фильтр' class='submit' />
      </div>
      <div class='clear_wrapper'>
        <%= link_to 'Очистить', '#' %>
      </div>
    </div>
  <% end %>
</div>
